<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>CostFactory (pretty_expressive.Pretty_expressive.Signature.CostFactory)</title><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">pretty_expressive</a> &#x00BB; <a href="../../index.html">Pretty_expressive</a> &#x00BB; <a href="../index.html">Signature</a> &#x00BB; CostFactory</nav><header class="odoc-preamble"><h1>Module type <code><span>Signature.CostFactory</span></code></h1><p>The cost factory interface.</p><p>A valid cost factory should also satisfy the following contracts.</p><ul><li><code>le</code> is a total ordering.</li><li>If <code>le a b</code> and <code>le c d</code> then <code>le (combine a c) (combine b d)</code></li><li>If <code>a</code> &lt;= <code>b</code>, then <code>le (text a l) (text b l)</code></li><li>If <code>a</code> &lt;= <code>b</code>, then <code>le (newline a) (newline b)</code></li><li><code>text c (a + b) = combine (text c a) (text (c + a) b)</code></li><li><code>combine</code> is associative and has the identity equal to <code>text 0 0</code></li><li><code>text c 0</code> = <code>text 0 0</code> for any <code>c</code></li></ul><p>See <a href="../../Printer/index.html#val-default_cost_factory"><code>default_cost_factory</code></a>, <a href="../../../index.html#factory">the cost factory section</a>, and <a href="https://dl.acm.org/doi/abs/10.1145/3622837">the paper</a> for examples of cost factories.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>A type for cost</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-text"><a href="#val-text" class="anchor"></a><code><span><span class="keyword">val</span> text : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>text c l</code> calculates a cost for a text placement at column position <code>c</code> with length <code>l</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-newline"><a href="#val-newline" class="anchor"></a><code><span><span class="keyword">val</span> newline : <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>newline i</code> calculates a cost for a newline and indentation at level <code>i</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-combine"><a href="#val-combine" class="anchor"></a><code><span><span class="keyword">val</span> combine : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>combine x y</code> combines the costs <code>x</code> and <code>y</code> together</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-le"><a href="#val-le" class="anchor"></a><code><span><span class="keyword">val</span> le : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>le x y</code> tests if the cost <code>x</code> is less than or equal to the cost <code>y</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-limit"><a href="#val-limit" class="anchor"></a><code><span><span class="keyword">val</span> limit : int</span></code></div><div class="spec-doc"><p><code>limit</code> is <a href="../../../index.html#complimit">the computation width limit</a>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-debug"><a href="#val-debug" class="anchor"></a><code><span><span class="keyword">val</span> debug : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>debug c</code> produces a string representation of a cost <code>c</code></p></div></div></div></body></html>